version: '3.7'

services:
  angular:
    container_name: angular
    build: ./front
    environment:
      NODE_ENV: development
    volumes:
      - ./front:/usr/src/app
    ports:
      - 3010:3010
      - 9005:9005
    stdin_open: true
  python:
    container_name: python
    build: ./back
    env_file: .env.python
    volumes:
      - ./back:/usr/src/app
    ports:
      - 3011:3011
    links:
      - db
    entrypoint: python3 run.py
  db:
    image: postgres
    hostname: postgres
    container_name: postgres
    restart: always
    environment: 
      POSTGRES_PASSWORD: postpass
      POSTGRES_USER: tictac
    ports:
        - 54320:5432
  adminer:
    image: adminer
    restart: always
    ports: 
      - 8080:8080